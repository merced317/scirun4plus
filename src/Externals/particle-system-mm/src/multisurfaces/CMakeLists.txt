PROJECT(multisurfaces)

IF(BUILD_BIOMESH3D)
  CMAKE_MINIMUM_REQUIRED(VERSION 2.6)
  IF(COMMAND CMAKE_POLICY)
    CMAKE_POLICY(VERSION 2.6)
  ENDIF(COMMAND CMAKE_POLICY)
ELSE(BUILD_BIOMESH3D)
  OPTION(BUILD_SHARED_LIBS "Build shared libraries" ON)
  MARK_AS_ADVANCED(BUILD_SHARED_LIBS)

  SET (LIBRARY_OUTPUT_PATH ${CMAKE_CURRENT_BINARY_DIR}/lib CACHE INTERNAL "Single output directory for building all libraries.")
  SET (EXECUTABLE_OUTPUT_PATH ${CMAKE_CURRENT_BINARY_DIR} CACHE INTERNAL "Single output directory for building all executables.")
  MARK_AS_ADVANCED(LIBRARY_OUTPUT_PATH EXECUTABLE_OUTPUT_PATH)

  IF(WIN32 AND MSVC)
    # Bind application to the current version of the VC libraries
    ADD_DEFINITIONS(-D_BIND_TO_CURRENT_VCLIBS_VERSION) 

    # MSVC level 3 warnings are a little ridiculous
    SET(CMAKE_CXX_WARNING_LEVEL 1)
    IF(CMAKE_CXX_FLAGS MATCHES "/W[0-4]")
      STRING(REGEX REPLACE "/W[0-4]" "/W1"
              CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS}")
    ELSE(CMAKE_CXX_FLAGS MATCHES "/W[0-4]")
      SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} /W1")
    ENDIF(CMAKE_CXX_FLAGS MATCHES "/W[0-4]")
  ENDIF(WIN32 AND MSVC)

ENDIF(BUILD_BIOMESH3D)

INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR} ${OPENGL_INCLUDE_DIR} ../glew/include)

#ADD_SUBDIRECTORY(features)
ADD_SUBDIRECTORY(system)
ADD_SUBDIRECTORY(run-particle-system)
